{% extends "hv/layout.xml" %}
{% block header %}
<header style="header flex-header">
    <view style="header-placeholder" action="back">
        {% include "hv/svg/back.xml" %}
    </view>
    <text style="heading text-dark">Edit Purchase</text>
    <view style="header-placeholder" action="reload" href="/hv/purchases/{{ purchase.purchase_id }}/edit">
        {% include "hv/svg/edit.xml" %}
    </view>
</header>
{% endblock header%}
{% block content %}
<view style="container">
    {# for development #}
    <behavior trigger="refresh" action="reload"/>
    <view style="card">

        <form id="purchase-form">
            
            {% include "hv/purchases/_form_fields.xml" %}

            <view 
                verb="post"
                href="/hv/purchases/{{ purchase.purchase_id }}/edit"
                target="form-fields"
                action="replace-inner"
                style="btn btn-primary btn-gap"
                >
                <text style="text-center text-light text-large">Save</text>
            </view>

            <view style="btn btn-secondary">
                <behavior trigger="press" action="reload" href="/hv/purchases/{{ purchase.purchase_id }}"/>
                <text style="text-center text-large text-dark">Cancel</text>
            </view>
            
        </form>
    </view>
    <view style="btn btn-delete">
        <behavior 
            trigger="press" 
            action="append" 
            target="purchase-info"
            href="/hv/purchases/{{ purchase.purchase_id }}/delete" 
            verb="post"
            />
        <text style="text-center text-large text-dark">Delete</text>
    </view>
</view>
{% endblock content%}