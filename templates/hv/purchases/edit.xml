{% extends "hv/layout.xml" %}
{% block header %}<text style="heading">Edit Purchase {{ purchase.purchase_id }}</text>{% endblock header%}
{% block content %}
<view style="container">
    {# for development #}
    <behavior trigger="refresh" action="reload"/>
    <view style="card">
        <view>
            <behavior trigger="press" action="reload" href="/hv/purchases/{{ purchase.purchase_id }}"/>
            <text style="text-large text-dark">Cancel</text>
        </view>

        <form id="purchase-form">
            
            {% include "hv/purchases/_form_fields.xml" %}

            <view 
                verb="post"
                href="/hv/purchases/{{ purchase.purchase_id }}/edit"
                target="form-fields"
                action="replace-inner"
                style="submit-button"
                >
                <text style="list-item-text">Save</text>
            </view>
            
        </form>
    </view>
    <view style="btn-delete">
        <behavior 
            trigger="press" 
            action="append" 
            target="purchase-info"
            href="/hv/purchases/{{ purchase.purchase_id }}/delete" 
            verb="post"
            />
        <text style="btn-text text-large text-dark">Delete</text>
    </view>
</view>
{% endblock content%}