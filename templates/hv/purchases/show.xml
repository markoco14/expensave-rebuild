{% extends "hv/layout.xml" %}

{% block header %}<text style="heading">Purchase {{ purchase.purchase_id }}</text>{% endblock header%}

{% block content %}
<view style="container">
    {# for development #}
    {# <behavior trigger="refresh" action="reload"/> #}
    <view id="purchase-info" style="card">
        {% if not purchase %}
        <text>No purchase found</text>
        {% else %}
        <view style="input-group">
            <text style="label text-large">Amount</text>
            <text style="text-large text-dark">${{ purchase.amount }} {{ purchase.currency }}</text>
        </view>
        <view style="input-group">
            <text style="label text-large">Time</text>
            <text style="text-large text-dark">{{ purchase.purchased_at.strftime("%B %d at %H:%M:%S") }} ({{ purchase.timezone }})</text>
        </view>
        <view style="input-group">
            <text style="label text-large">Bucket</text>
            <text style="text-large text-dark">{{ purchase.bucket_name }}</text>
        </view>
        {% endif %}
    </view>
    <view style="btn-delete">
        <behavior 
            trigger="press" 
            action="append" 
            target="purchase-info"
            href="/hv/purchases/{{ purchase.purchase_id }}/delete" 
            verb="post"
            />
        <text style="btn-text text-large text-dark">Delete</text>
    </view>
</view>
{% endblock content %}
