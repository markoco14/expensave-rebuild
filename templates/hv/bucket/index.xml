{% extends "hv/layout.xml" %}

{% block header %}
<header style="header">
	<text style="heading text-dark text-center">Buckets</text>
</header>
{% endblock header %}

{% block content %}
<view style="container column">
	<behavior trigger="on-event" event-name="top-up-updated" action="reload" href="/hv/buckets"/>
	<text style="heading text-dark text-center">{{ current_month.strftime("%B %Y") }}</text>
	{% for top_up in top_ups %}
	<view style="card">
		<behavior action="push" href="/hv/top-up/{{ top_up.top_up_id }}"/>
		<text style="text-dark text-large text-center">{{ top_up.bucket_name }}</text>
		<text style="text-dark balance text-center">Balance: ${{ top_up.end_amount if top_up.end_amount else 0 }}</text>
	</view>
	{% endfor %}
	<view style="bottom-btn-bar">
		<view style="btn btn-tab">
			<behavior trigger="press" action="reload" href="/hv/today" />
			<text style="text-dark text-large text-center">Today</text>
		</view>
		<view style="btn btn-tab">
            <behavior trigger="press" action="reload" target="container" href="/hv/buckets"/>
            <text style="text-dark text-large text-center">Buckets</text>
        </view>
	</view>
</view>

{% endblock content %}
